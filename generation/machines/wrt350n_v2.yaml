machine:
  license: "/* \n * automatically generated, don't change\n */"
  machine_desc: "Linksys WRT350N v2 (MV88F5181L)"
  machine_name: "wrt350n_v2"
  board_id: "0x661"
  soc:
    soc_name: "mv88f5181L"
    cpu:
      cpu_type: "arm926"
    cpu_address_map:
      cam_mmio_name: "mv88f5181_cpu_address_map"
      cam_mmio_base: "0xf1020000"
      cam_mmio_size: "0x100"
      cam_registers:
        # default value copied from mv88f8182, base and size seems wrong
        # but it doesn't matter, the kernel will overwrite them all
        - name: "window0_control_register"
          offset: "0x00"
          value: "0x1FFF5941"
        - name: "window0_base_register"
          offset: "0x04"
          value: "0x80000000"
        - name: "window0_remap_low_register"
          offset: "0x08"
          value: "0x80000000"
        - name: "window0_remap_high_register"
          offset: "0x0C"
          value: "0x0"
        - name: "window1_control_register"
          offset: "0x10"
          value: "0x1FFF5931"
        - name: "window1_base_register"
          offset: "0x14"
          value: "0xA0000000"
        - name: "window1_remap_low_register"
          offset: "0x18"
          value: "0xA0000000"
        - name: "window1_remap_high_register"
          offset: "0x1C"
          value: "0x0"
        - name: "window2_control_register"
          offset: "0x20"
          value: "0x00005141"
        - name: "window2_base_register"
          offset: "0x24"
          value: "0xC0000000"
        - name: "window2_remap_low_register"
          offset: "0x28"
          value: "0xC0000000"
        - name: "window2_remap_high_register"
          offset: "0x2C"
          value: "0x0"
        - name: "window3_control_register"
          offset: "0x30"
          value: "0x00005131"
        - name: "window3_base_register"
          offset: "0x34"
          value: "0xC8000000"
        - name: "window4_control_register"
          offset: "0x40"
          value: "0x00000091"
        - name: "window4_base_register"
          offset: "0x44"
          value: "0xC8010000"
        - name: "window5_control_register"
          offset: "0x50"
          value: "0x0"
        - name: "window5_base_register"
          offset: "0x54"
          value: "0x0"
        - name: "window6_control_register"
          offset: "0x60"
          value: "0x07FF1B11"
        - name: "window6_base_register"
          offset: "0x64"
          value: "0xF0000000"
        - name: "window7_control_register"
          offset: "0x70"
          value: "0x07FF0F11"
        - name: "window7_base_register"
          offset: "0x74"
          value: "0xF8000000"
        - name: "_88f5181_internal_registers_base_address_register"
          offset: "0x80"
          value: "0xD0000000"
    ddr_sdram_controller:
      dsc_mmio_name: "mv88f5181_ddr_sdram_controller"
      dsc_mmio_base: "0xf1001400"
      dsc_mmio_size: "0x200"
      dsc_registers:
        - name: "cs0n_base_address_register"
          offset: "0x100"
          value: "0x0 << 0 | 0x0 << 16 | 0x0 << 24"
        - name: "cs0n_size_register"
          offset: "0x104"
          value: "0x1 << 0 | 0x0 << 1 |  0xFF << 16 | 0x0F << 24"
        - name: "cs1n_base_address_register"
          offset: "0x108"
          value: "0x0 << 0 | 0x0 << 16 | 0x10 << 24"
        - name: "cs1n_size_register"
          offset: "0x10C"
          value: "0x1 << 0 | 0x0 << 1 | 0xFF << 16 | 0x0F << 24"
        - name: "cs2n_base_address_register"
          offset: "0x110"
          value: "0x0 << 0 | 0xFF << 16 | 0x20 << 24"
        - name: "cs2n_size_register"
          offset: "0x114"
          value: "0x1 << 0 | 0x0 << 1 | 0xFF << 16 | 0x0F << 24"
        - name: "cs3n_base_address_register"
          offset: "0x118"
          value: "0x0 << 0 | 0x0 << 16 | 0x30 << 24"
        - name: "cs3n_size_register"
          offset: "0x11C"
          value: "0x1 << 0 | 0x0 << 1 | 0xFF << 16 | 0x0F << 24"
        - name: "ddr_sdram_configuration_register"
          offset: "0x00"
          value: "0x400 << 0 | 0x2 << 14 | 0x0 << 17 | 0x1 << 18 | 0x0 << 19 | 0x2 << 20 | 0x0 << 22 | 0x1 << 24 | 0x1 << 25 | 0x0 << 26"
        - name: "ddr_sdram_control_register"
          offset: "0x04"
          value: "0x0 << 0 | 0x1 << 6 | 0x0 << 7 | 0x1 << 12 | 0x0 << 13 | 0x0 << 14 | 0x1 << 18 | 0x0 << 19 | 0x3 << 24 | 0x0 << 28"
        - name: "ddr_sdram_timing_low_register"
          offset: "0x08"
          value: "0x0 << 0 | 0x2 << 4 | 0x2 << 8 | 0x2 << 12 | 0x1 << 16 | 0x8 << 20 | 0x1 << 24 | 0x1 << 28"
        - name: "ddr_sdram_timing_high_register"
          offset: "0x0C"
          value: "0xD << 0 | 0x0 << 4 | 0x0 << 6 | 0x0 << 8 | 0x0 << 10 | 0x0 << 12"
        - name: "ddr2_sdram_timing_low_register"
          offset: "0x28"
          value: "0x5 << 0 | 0x0 << 4 | 0x3 << 8 | 0x3 << 12 | 0x6 << 16 | 0x0 << 20"
        - name: "ddr2_sdram_timing_high_register"
          offset: "0x7C"
          value: "0x0 << 0 | 0x3 << 4 | 0x3 << 8 | 0x6 << 12 | 0x0 << 16"
        - name: "ddr_sdram_address_control_register"
          offset: "0x10"
          value: "0x0 << 0 | 0x1 << 4 | 0x0 << 6"
        - name: "ddr_sdram_open_pages_control_register"
          offset: "0x14"
          value: "0x0 << 0 | 0x0 << 1"
        - name: "ddr_sdram_operation_register"
          offset: "0x18"
          value: "0x0 << 0 | 0x0 << 4"
        - name: "ddr_sdram_operation_control_register"
          offset: "0x2C"
          value: "0x0 << 0 | 0x0 << 2"
        - name: "ddr_sdram_mode_register"
          offset: "0x1C"
          value: "0x2 << 0 | 0x0 << 3 | 0x3 << 4 | 0x0 << 7 | 0x0 << 8 | 0x0 << 12 | 0x0 << 13 | 0x0 << 14"
        - name: "extended_ddr_sdram_mode_register"
          offset: "0x20"
          value: "0x0 << 0 | 0x0 << 1 | 0x0 << 7 | 0x0 << 13 | 0x0 << 14"
        - name: "ddr_sdram_initialization_control_register"
          offset: "0x80"
          value: "0x0 << 0 | 0x0 << 1"
        - name: "ddr_sdram_address_or_control_pads_calibration_register"
          offset: "0xC0"
          value: "0x0 << 0 | 0x0 << 6 | 0x0 << 12 | 0x0 << 14 | 0x1 << 16 | 0x0 << 17 | 0x0 << 23 | 0x0 << 29 | 0x0 << 31"
        - name: "ddr_sdram_data_pads_calibration_register"
          offset: "0xC4"
          value: "0x144 << 0"
        - name: "ddr2_sdram_odt_control_low_register"
          offset: "0x94"
          value: "0x0 << 0 | 0x0 << 4 | 0x0 << 8 | 0x0 << 12 | 0x0 << 16 | 0x0 << 20 | 0x0 << 24 | 0x0 << 28"
        - name: "ddr2_sdram_odt_control_high_register"
          offset: "0x98"
          value: "0x0 << 0 | 0x0 << 2 | 0x0 << 4 | 0x0 << 6 | 0x0 << 8"
        - name: "ddr2_sdram_odt_control_register"
          offset: "0x9C"
          value: "0x0 << 0 | 0x0 << 4 | 0x0 << 8 | 0x0 << 10 | 0x0 << 12"
        - name: "ddr_sdram_interface_mbus_control_low_register"
          offset: "0x30"
          value: "0x0 << 0 | 0x1 << 4 | 0x2 << 8 | 0x3 << 12 | 0x4 << 16 | 0x5 << 20 | 0x6 << 24 | 0x7 << 28"
        - name: "ddr_sdram_interface_mbus_control_high_register"
          offset: "0x34"
          value: "0x8 << 0 | 0x9 << 4 | 0xA << 8 | 0xB << 12 | 0xC << 16 | 0xD << 20 | 0xE << 24 | 0xF << 28"
        - name: "ddr_sdram_interface_mbus_timeout_register"
          offset: "0x38"
          value: "0xFF << 0 | 0x0 << 8 | 0x1 << 16 | 0x0 << 17"
        - name: "ddr_sdram_mmask_register"
          offset: "0xB0"
          value: "0x0 << 0 | 0x0 << 2 | 0x0 << 4 | 0xF << 5 | 0x0 << 9"
    peripheral:
      peripheral_name: "mv88f5181L_peripherals"
      bridge_mmio_name: "mv88f5181_bridge"
      bridge_mmio_base: "0xf1020100"
      bridge_mmio_size: "0x100"
      bridge_registers:
        - name: "bridge_configuration_register"
          offset: "0x00"
        - name: "bridge_control_and_status_register"
          offset: "0x04"
        - name: "bridge_rstoutn_mask_register"
          offset: "0x08"
        - name: "bridge_system_soft_reset_register"
          offset: "0x0c"
        - name: "bridge_interrupt_cause_register"
          offset: "0x10"
        - name: "bridge_interrupt_mask_register"
          offset: "0x14"
      timer:
        timer_name: "mv88f5181L_timer"
        timer_mmio_base: "0xf1020300"
        timer_mmio_size: "0x100"
        timer_registers:
          - name: "cpu_timers_control_register"
            offset: "0x00"
          - name: "cpu_timer0_reload_register"
            offset: "0x10"
          - name: "cpu_timer0_register"
            offset: "0x14"
          - name: "cpu_timer1_reload_register"
            offset: "0x18"
          - name: "cpu_timer1_register"
            offset: "0x1c"
          - name: "cpu_watchdog_timer_reload_register"
            offset: "0x20"
          - name: "cpu_watchdog_timer_register"
            offset: "0x24"
      uart:
        uart_name: "mv88f5181L_uart"
        uart_mmio_base: "0xf1012000"
        uart_mmio_size: "0x100"
      gpio:
        gpio_name: "mv88f5181L_gpio"
        gpio_mmio_base: "0xf1010100"
        gpio_mmio_size: "0x100"
        gpio_registers:
          - name: "gpio_data_out_register"
            offset: "0x00"
          - name: "gpio_data_out_enable_control_register"
            offset: "0x04"
          - name: "gpio_blink_enable_register"
            offset: "0x08"
          - name: "gpio_data_in_polarity_register"
            offset: "0x0c"
          - name: "gpio_data_in_register"
            offset: "0x10"
          - name: "gpio_interrupt_cause_register"
            offset: "0x14"
          - name: "gpio_interrupt_mask_register"
            offset: "0x18"
          - name: "gpio_interrupt_level_mask_register"
            offset: "0x1c"
        gpio_n: 32
      pcie:
        pcie_name: "mv88f5181L_pcie"
        pcie_mmio_base: "0xf1040000"
        pcie_mmio_size: "0x10000"
      cryptographic_engine_and_security_accelerator:
        cesa_name: "mv88f5181l_cesa"
        cesa_mmio_base: "0xf109DD00"
        cesa_mmio_size: "0x200"
        cesa_registers:
          - name: "des_data_out_low_register"
            offset: "0x00000078"
          - name: "des_data_out_high_register"
            offset: "0x0000007c"
          - name: "des_data_buffer_low_register"
            offset: "0x00000070"
          - name: "des_data_buffer_high_register"
            offset: "0x00000074"
          - name: "des_initial_value_low_register"
            offset: "0x00000040"
          - name: "des_initial_value_high_register"
            offset: "0x00000044"
          - name: "des_key0_low_register"
            offset: "0x00000048"
          - name: "des_key0_high_register"
            offset: "0x0000004c"
          - name: "des_key1_low_register"
            offset: "0x00000050"
          - name: "des_key1_high_register"
            offset: "0x00000054"
          - name: "des_key2_low_register"
            offset: "0x00000060"
          - name: "des_key2_high_register"
            offset: "0x00000064"
          - name: "des_command_register"
            offset: "0x00000058"
          - name: "sha-1_or_md5_data_in_register"
            offset: "0x00000038"
          - name: "sha-1_or_md5_bit_count_low_register"
            offset: "0x00000020"
          - name: "sha-1_or_md5_bit_count_high_register"
            offset: "0x00000024"
          - name: "sha-1_or_md5_initial_value_or_digest_a_register"
            offset: "0x00000000"
          - name: "sha-1_or_md5_initial_value_or_digest_b_register"
            offset: "0x00000004"
          - name: "sha-1_or_md5_initial_value_or_digest_c_register"
            offset: "0x00000008"
          - name: "sha-1_or_md5_initial_value_or_digest_d_register"
            offset: "0x0000000c"
          - name: "sha-1_initial_value_or_digest_e_register"
            offset: "0x00000010"
          - name: "sha-1_or_md5_authentication_command_register"
            offset: "0x00000018"
          - name: "aes_encryption_data_in_or_out_column_3_register"
            offset: "0x000000a0"
          - name: "aes_encryption_data_in_or_out_column_2_register"
            offset: "0x000000a4"
          - name: "aes_encryption_data_in_or_out_column_1_register"
            offset: "0x000000a8"
          - name: "aes_encryption_data_in_or_out_column_0_register"
            offset: "0x000000ac"
          - name: "aes_encryption_key_column_3_register"
            offset: "0x00000090"
          - name: "aes_encryption_key_column_2_register"
            offset: "0x00000094"
          - name: "aes_encryption_key_column_1_register"
            offset: "0x00000098"
          - name: "aes_encryption_key_column_0_register"
            offset: "0x0000009c"
          - name: "aes_encryption_key_column_7_register"
            offset: "0x00000080"
          - name: "aes_encryption_key_column_6_register"
            offset: "0x00000084"
          - name: "aes_encryption_key_column_5_register"
            offset: "0x00000088"
          - name: "aes_encryption_key_column_4_register"
            offset: "0x0000008c"
          - name: "aes_encryption_command_register"
            offset: "0x000000b0"
          - name: "aes_decryption_data_in_or_out_column_3_register"
            offset: "0x000000e0"
          - name: "aes_decryption_data_in_or_out_column_2_register"
            offset: "0x000000e4"
          - name: "aes_decryption_data_in_or_out_column_1_register"
            offset: "0x000000e8"
          - name: "aes_decryption_data_in_or_out_column_0_register"
            offset: "0x000000ec"
          - name: "aes_decryption_key_column_3_register"
            offset: "0x000000d0"
          - name: "aes_decryption_key_column_2_register"
            offset: "0x000000d4"
          - name: "aes_decryption_key_column_1_register"
            offset: "0x000000d8"
          - name: "aes_decryption_key_column_0_register"
            offset: "0x000000dc"
          - name: "aes_decryption_key_column_7_register"
            offset: "0x000000c0"
          - name: "aes_decryption_key_column_6_register"
            offset: "0x000000c4"
          - name: "aes_decryption_key_column_5_register"
            offset: "0x000000c8"
          - name: "aes_decryption_key_column_4_register"
            offset: "0x000000cc"
          - name: "aes_decryption_command_register"
            offset: "0x000000f0"
          - name: "security_accelerator_command_register"
            offset: "0x00000100"
          - name: "security_accelerator_descriptor_pointer_session_0_register"
            offset: "0x00000104"
          - name: "security_accelerator_descriptor_pointer_session_1_register"
            offset: "0x00000114"
          - name: "security_accelerator_configuration_register"
            offset: "0x00000108"
          - name: "security_accelerator_status_register"
            offset: "0x0000010c"
          - name: "cryptographic_engines_and_security_accelerator_interrupt_cause_register"
            offset: "0x00000120"
          - name: "cryptographic_engines_and_security_accelerator_interrupt_mask_register"
            offset: "0x00000124"
    interrupt_controller:
      ic_name: "mv88f5181L_ic"
      ic_mmio_base: "0xf1020200"
      ic_mmio_size: "0x100"
      ic_registers:
        - name: "main_interrupt_cause_register"
          offset: "0x00"
        - name: "main_irq_interrupt_mask_register"
          offset: "0x04"
        - name: "main_fiq_interrupt_mask_register"
          offset: "0x08"
        - name: "main_endpoint_interrupt_mask_register"
          offset: "0x0c"
      ic_n_irqs: 32
  ram:
    ram_size: "32 * MiB"
  boot_device:
    flash_enable: 1
    flash:
      flash_addr: "0xf4000000"
      flash_sect_size: "64 * KiB"
      flash_size: "8 * MiB"
    sd_enable: 0
    sd:
      sd_size: ~
