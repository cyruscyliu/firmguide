/dts-v1/;

/ {
    components {
        path_to_image = "tests/files/rootfs.fill";
        path_to_uimage = "tests/files/vmlinux.elf";
    };
    basics {
        machine_description = "Linksys WRT320N v1 (BCM4717A1)";
        machine_name = "wrt320n_v1";
    };
    cpu {
        model = "74Kf";
    };
    cpu_pp {
        name = "mips_pp";
    };
    ram {
        base = "0";
        size = "1024 * MiB";
        priority = "-2";
    };
    flash {
        type = "nor";
        base = "0x1c000000";
        section_size = "32 * KiB";
        size = "32 * MiB";
    };
    uart {
        name = "uart";
        mmio_base = "0x18000300";
        mmio_size = "0x200";
        baud_rate = "115200";
        reg_shift = "0";
        irq = "2";
    };
    bamboo {
        0 {
            name = "bcma";
            mmio_base = "0x18000000";
            mmio_size = "0x5000";
            mmio_priority = "-1";
            registers {
                0 {
                    name = "bcma_cc_id_register";
                    offset = "0x0";
                    value = "0x4716 | 0x10000 | 0x900000 | 0x0000000 | 0x00000000";
                };
                1 {
                    name = "bcma_cc_CAP";
                    offset = "0x4";
                    value = "0x1 | 0x8 | 0x700 | 0x10000000";
                };
                2 {
                    name = "bcma_cc_CORECTL";
                    offset = "0x8";
                    value = "0x1 | 0x2 | 0x8";
                };
                3 {
                    name = "bcma_cc_CLKDIV";
                    offset = "0xa4";
                    value = "0xff";
                };
                4 {
                    name = "bcma_cc_erom_register";
                    offset = "0xfc";
                    value = "0x18002000";
                };
                5 {
                    name = "bcma_cc_FLASH_CFG";
                    offset = "0x128";
                    value = "0x10";
                };
                6 {
                    name = "bcma_cc_uart0_DATA";
                    offset = "0x300";
                    value = "0x0";
                };
                7 {
                    name = "bcma_cc_uart0_IMR";
                    offset = "0x304";
                    value = "0x0";
                };
                8 {
                    name = "bcma_cc_uart0_FCR";
                    offset = "0x308";
                    value = "0x0";
                };
                9 {
                    name = "bcma_cc_uart0_LCR";
                    offset = "0x30c";
                    value = "0x0";
                };
                10 {
                    name = "bcma_cc_uart0_MCR";
                    offset = "0x310";
                    value = "0x0";
                };
                11 {
                    name = "bcma_cc_uart0_LSR";
                    offset = "0x314";
                    value = "0x1 << 5 | 0x1 << 6 | 0x1 << 7";
                };
                12 {
                    name = "bcma_cc_uart0_MSR";
                    offset = "0x318";
                    value = "0x0";
                };
                13 {
                    name = "bcma_cc_uart0_SCRATCH";
                    offset = "0x31c";
                    value = "0x0";
                };
                14 {
                    name = "bcma_cc_uart1_DATA";
                    offset = "0x400";
                    value = "0x0";
                };
                15 {
                    name = "bcma_cc_uart1_IMR";
                    offset = "0x404";
                    value = "0x0";
                };
                16 {
                    name = "bcma_cc_uart1_FCR";
                    offset = "0x408";
                    value = "0x0";
                };
                17 {
                    name = "bcma_cc_uart1_LCR";
                    offset = "0x40c";
                    value = "0x0";
                };
                18 {
                    name = "bcma_cc_uart1_MCR";
                    offset = "0x410";
                    value = "0x0";
                };
                19 {
                    name = "bcma_cc_uart1_LSR";
                    offset = "0x414";
                    value = "0x0";
                };
                20 {
                    name = "bcma_cc_uart1_MSR";
                    offset = "0x418";
                    value = "0x0";
                };
                21 {
                    name = "bcma_cc_uart1_SCRATCH";
                    offset = "0x41c";
                    value = "0x0";
                };
                22 {
                    name = "bcma_cc_OOBSELOUTA30";
                    offset = "0x1100";
                    value = "0x3";
                };
                23 {
                    name = "bcma_scan_commoncore_CIA";
                    offset = "0x2000";
                    value = "0x1 | 0x0 | 0x0 << 4 | 0x800 << 8 | 0x4BF << 20";
                };
                24 {
                    name = "bcma_scan_commoncore_CIB";
                    offset = "0x2004";
                    value = "0x1 | 0x0 | 0x1 << 4 | 0x1 << 9 | 0x1 << 14 | 0x0 << 19 | 0x23 << 24";
                };
                25 {
                    name = "bcma_scan_commoncore_MP";
                    offset = "0x2008";
                    value = "0x1 | 0x2 | 0x0 << 4";
                };
                26 {
                    name = "bcma_scan_commoncore_SP1";
                    offset = "0x200c";
                    value = "0x1 | 0x4 | 0x0 << 4 | 0x0 << 6 | 0x0 << 8 | 0x18000 << 12";
                };
                27 {
                    name = "bcma_scan_commoncore_MW1";
                    offset = "0x2010";
                    value = "0x1 | 0x4 | 0x0 << 4 | 0xC0 | 0x0 << 8 | 0x18001 << 12";
                };
                28 {
                    name = "bcma_scan_mipscore_CIA";
                    offset = "0x2014";
                    value = "0x1 | 0x0 | 0x0 << 4 | 0x82c << 8 | 0x4A7 << 20";
                };
                29 {
                    name = "bcma_scan_mipscore_CIB";
                    offset = "0x2018";
                    value = "0x1 | 0x0 | 0x1 << 4 | 0x1 << 9 | 0x1 << 14 | 0x0 << 19 | 0x23 << 24";
                };
                30 {
                    name = "bcma_scan_mipscore_MP";
                    offset = "0x201c";
                    value = "0x1 | 0x2 | 0x0 << 4";
                };
                31 {
                    name = "bcma_scan_mipscore_SP1";
                    offset = "0x2020";
                    value = "0x1 | 0x4 | 0x0 << 4 | 0x0 << 6 | 0x0 << 8 | 0x18003 << 12";
                };
                32 {
                    name = "bcma_scan_mipscore_MW1";
                    offset = "0x2024";
                    value = "0x1 | 0x4 | 0x0 << 4 | 0xC0 | 0x0 << 8 | 0x18004 << 12";
                };
                33 {
                    name = "bcma_scan_END";
                    offset = "0x2028";
                    value = "0x1 | 0xe";
                };
                34 {
                    name = "bcma_mips_core_mips74k_CORECTL";
                    offset = "0x3000";
                    value = "0x0";
                };
                35 {
                    name = "bcma_mips_core_mips74k_EXCEPTBASE";
                    offset = "0x3004";
                    value = "0x0";
                };
                36 {
                    name = "bcma_mips_core_mips74k_BIST";
                    offset = "0x300c";
                    value = "0x0";
                };
                37 {
                    name = "bcma_mips_core_mips74k_INTMASK_INT0";
                    offset = "0x3014";
                    value = "0x8";
                };
                38 {
                    name = "bcma_mips_core_mips74k_INTMASK_INT1";
                    offset = "0x3018";
                    value = "0x0";
                };
                39 {
                    name = "bcma_mips_core_mips74k_INTMASK_INT2";
                    offset = "0x301c";
                    value = "0x0";
                };
                40 {
                    name = "bcma_mips_core_mips74k_INTMASK_INT3";
                    offset = "0x3020";
                    value = "0x0";
                };
                41 {
                    name = "bcma_mips_core_mips74k_INTMASK_INT4";
                    offset = "0x3024";
                    value = "0x0";
                };
                42 {
                    name = "bcma_mips_core_mips74k_INTMASK_XXXX";
                    offset = "0x3028";
                    value = "0x0";
                };
                43 {
                    name = "bcma_mips_core_mips74k_NMIMASK";
                    offset = "0x302c";
                    value = "0x0";
                };
                44 {
                    name = "bcma_mips_core_mips74k_GPIOSEL";
                    offset = "0x3040";
                    value = "0x0";
                };
                45 {
                    name = "bcma_mips_core_mips74k_GPIOOUT";
                    offset = "0x3044";
                    value = "0x0";
                };
                46 {
                    name = "bcma_mips_core_mips74k_GPIOEN";
                    offset = "0x3048";
                    value = "0x0";
                };
            };
        };
    };
};
